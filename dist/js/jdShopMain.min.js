function initBannerTouch(e){function t(e){for(;-1!=this.className.indexOf("move");)this.className=this.className.replace("move","");f=1,B=1,u=!0,N=0,E=[0,0]}function a(e){if(1!=e.touches.length||1!=N&&0!=N||!this.getAttribute("data-proportio")||1==this.getAttribute("data-proportio")){if(2==e.touches.length&&(2==N||0==N)){N=2;var t=[e.touches[0].pageX,e.touches[1].pageX],a=[e.touches[0].pageY,e.touches[1].pageY];v=[(t[0]+t[1])/2,(a[0]+a[1])/2],h=Math.sqrt(Math.pow(t[0]-t[1],2),Math.pow(a[0]-a[1],2)),u&&h>0&&(u=!1,g=h,p=v,this.getAttribute("data-proportio")&&(f=this.getAttribute("data-proportio"),E[0]=parseInt(this.getAttribute("data-left")),E[1]=parseInt(this.getAttribute("data-top")))),B=(g+(h-g)/3*2)/g*f,B=function(e){return browser.os.iOS?(e<1?e=1-(1-e)/2:e>3.5?e=2.833:e>2.5&&(e=2.5+(e-2.5)/3),e):s(e)}(B),this.setAttribute("data-proportio",B),y=[(v[0]-p[0])/B+E[0],(v[1]-p[1])/B+E[1]],i(this,B,y[0],y[1]),e.preventDefault(),e.stopPropagation()}}else N=1,v=[e.touches[0].pageX,e.touches[0].pageY],u&&(u=!1,p=v,this.getAttribute("data-proportio")&&(B=f=this.getAttribute("data-proportio"),E[0]=parseInt(this.getAttribute("data-left")),E[1]=parseInt(this.getAttribute("data-top")))),y=[(v[0]-p[0])/B+E[0],(v[1]-p[1])/B+E[1]],i(this,B,y[0],y[1]),e.preventDefault(),e.stopPropagation()}function n(e){var t=this;B=s(B),y[0]=o(y[0],t),y[1]=l(y[1],t),function(e,a,n,s){i(e,a,n,s),t.setAttribute("data-proportio",a),t.setAttribute("data-left",n),t.setAttribute("data-top",s),t.className+=" move"}(t,B,y[0],y[1])}function s(e){return e<1?1:e>2.5?2.5:e}function o(e,t){var a=document.documentElement.clientWidth,n=t.clientWidth*s(B);if(a>=n)return 0;var o=t.getBoundingClientRect().left;return o>0?(o>a/3&&c(),(n-a)/2/B):a-(n+o)>0?(a-(n+o)>a/3&&r(),-(n-a)/2/B):e}function l(e,t){var a=document.documentElement.clientHeight,n=t.clientHeight*s(B);if(a>=n)return 0;var o=t.getBoundingClientRect().top;return o>0?(n-a)/2/B:a-(n+o)>0?-(n-a)/2/B:e}function i(e,t,a,n){var s="scale3d("+t+","+t+",1) translate3d("+a+"px, "+n+"px , 0)";e.style.transform=s,e.style.webkitTransform=s}for(var c=e.leftFn,r=e.rightFn,d=document.getElementsByClassName("jd_banner_touch"),m=0;m<d.length;m++)d[m].addEventListener("touchstart",t,!1),d[m].addEventListener("touchmove",a,!1),d[m].addEventListener("touchend",n,!1);var u=!0,g=0,h=0,f=1,v=[0,0],p=[0,0],y=[0,0],E=[0,0],N=0,B=1}!function(){"use strict";function e(t,n){var s;if(n=n||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=n.touchBoundary||10,this.layer=t,this.tapDelay=n.tapDelay||200,this.tapTimeout=n.tapTimeout||700,!e.notNeeded(t)){for(var o=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],l=this,i=0,c=o.length;i<c;i++)l[o[i]]=function(e,t){return function(){return e.apply(t,arguments)}}(l[o[i]],l);a&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0)),t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,a,n){var s=Node.prototype.removeEventListener;"click"===e?s.call(t,e,a.hijacked||a,n):s.call(t,e,a,n)},t.addEventListener=function(e,a,n){var s=Node.prototype.addEventListener;"click"===e?s.call(t,e,a.hijacked||(a.hijacked=function(e){e.propagationStopped||a(e)}),n):s.call(t,e,a,n)}),"function"==typeof t.onclick&&(s=t.onclick,t.addEventListener("click",function(e){s(e)},!1),t.onclick=null)}}var t=navigator.userAgent.indexOf("Windows Phone")>=0,a=navigator.userAgent.indexOf("Android")>0&&!t,n=/iP(ad|hone|od)/.test(navigator.userAgent)&&!t,s=n&&/OS 4_\d(_\d)?/.test(navigator.userAgent),o=n&&/OS [6-7]_\d/.test(navigator.userAgent),l=navigator.userAgent.indexOf("BB10")>0;e.prototype.needsClick=function(e){switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled)return!0;break;case"input":if(n&&"file"===e.type||e.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(e.className)},e.prototype.needsFocus=function(e){switch(e.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!a;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}},e.prototype.sendClick=function(e,t){var a,n;document.activeElement&&document.activeElement!==e&&document.activeElement.blur(),n=t.changedTouches[0],a=document.createEvent("MouseEvents"),a.initMouseEvent(this.determineEventType(e),!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),a.forwardedTouchEvent=!0,e.dispatchEvent(a)},e.prototype.determineEventType=function(e){return a&&"select"===e.tagName.toLowerCase()?"mousedown":"click"},e.prototype.focus=function(e){var t;n&&e.setSelectionRange&&0!==e.type.indexOf("date")&&"time"!==e.type&&"month"!==e.type?(t=e.value.length,e.setSelectionRange(t,t)):e.focus()},e.prototype.updateScrollParent=function(e){var t,a;if(!(t=e.fastClickScrollParent)||!t.contains(e)){a=e;do{if(a.scrollHeight>a.offsetHeight){t=a,e.fastClickScrollParent=a;break}a=a.parentElement}while(a)}t&&(t.fastClickLastScrollTop=t.scrollTop)},e.prototype.getTargetElementFromEventTarget=function(e){return e.nodeType===Node.TEXT_NODE?e.parentNode:e},e.prototype.onTouchStart=function(e){var t,a,o;if(e.targetTouches.length>1)return!0;if(t=this.getTargetElementFromEventTarget(e.target),a=e.targetTouches[0],n){if(o=window.getSelection(),o.rangeCount&&!o.isCollapsed)return!0;if(!s){if(a.identifier&&a.identifier===this.lastTouchIdentifier)return e.preventDefault(),!1;this.lastTouchIdentifier=a.identifier,this.updateScrollParent(t)}}return this.trackingClick=!0,this.trackingClickStart=e.timeStamp,this.targetElement=t,this.touchStartX=a.pageX,this.touchStartY=a.pageY,e.timeStamp-this.lastClickTime<this.tapDelay&&e.preventDefault(),!0},e.prototype.touchHasMoved=function(e){var t=e.changedTouches[0],a=this.touchBoundary;return Math.abs(t.pageX-this.touchStartX)>a||Math.abs(t.pageY-this.touchStartY)>a},e.prototype.onTouchMove=function(e){return!this.trackingClick||((this.targetElement!==this.getTargetElementFromEventTarget(e.target)||this.touchHasMoved(e))&&(this.trackingClick=!1,this.targetElement=null),!0)},e.prototype.findControl=function(e){return void 0!==e.control?e.control:e.htmlFor?document.getElementById(e.htmlFor):e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},e.prototype.onTouchEnd=function(e){var t,l,i,c,r,d=this.targetElement;if(!this.trackingClick)return!0;if(e.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(e.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=e.timeStamp,l=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,o&&(r=e.changedTouches[0],d=document.elementFromPoint(r.pageX-window.pageXOffset,r.pageY-window.pageYOffset)||d,d.fastClickScrollParent=this.targetElement.fastClickScrollParent),"label"===(i=d.tagName.toLowerCase())){if(t=this.findControl(d)){if(this.focus(d),a)return!1;d=t}}else if(this.needsFocus(d))return e.timeStamp-l>100||n&&window.top!==window&&"input"===i?(this.targetElement=null,!1):(this.focus(d),this.sendClick(d,e),n&&"select"===i||(this.targetElement=null,e.preventDefault()),!1);return!(!n||s||!(c=d.fastClickScrollParent)||c.fastClickLastScrollTop===c.scrollTop)||(this.needsClick(d)||(e.preventDefault(),this.sendClick(d,e)),!1)},e.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},e.prototype.onMouse=function(e){return!this.targetElement||(!!e.forwardedTouchEvent||(!e.cancelable||(!(!this.needsClick(this.targetElement)||this.cancelNextClick)||(e.stopImmediatePropagation?e.stopImmediatePropagation():e.propagationStopped=!0,e.stopPropagation(),e.preventDefault(),!1))))},e.prototype.onClick=function(e){var t;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===e.target.type&&0===e.detail||(t=this.onMouse(e),t||(this.targetElement=null),t)},e.prototype.destroy=function(){var e=this.layer;a&&(e.removeEventListener("mouseover",this.onMouse,!0),e.removeEventListener("mousedown",this.onMouse,!0),e.removeEventListener("mouseup",this.onMouse,!0)),e.removeEventListener("click",this.onClick,!0),e.removeEventListener("touchstart",this.onTouchStart,!1),e.removeEventListener("touchmove",this.onTouchMove,!1),e.removeEventListener("touchend",this.onTouchEnd,!1),e.removeEventListener("touchcancel",this.onTouchCancel,!1)},e.notNeeded=function(e){var t,n,s;if(void 0===window.ontouchstart)return!0;if(n=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!a)return!0;if(t=document.querySelector("meta[name=viewport]")){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(n>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(l&&(s=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),s[1]>=10&&s[2]>=3&&(t=document.querySelector("meta[name=viewport]")))){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===e.style.msTouchAction||"manipulation"===e.style.touchAction||(!!(+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]>=27&&(t=document.querySelector("meta[name=viewport]"))&&(-1!==t.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))||("none"===e.style.touchAction||"manipulation"===e.style.touchAction))},e.attach=function(t,a){return new e(t,a)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return e}):"undefined"!=typeof module&&module.exports?(module.exports=e.attach,module.exports.FastClick=e):window.FastClick=e}(),window.addEventListener("load",function(){FastClick.attach(document.body)},!1),document.addEventListener("touchstart",function(){},!1);var browser={os:function(){var e=navigator.userAgent;return{linux:!!e.match(/\(X11;( U;)? Linux/i),windows:!!e.match(/Windows/i),android:!!e.match(/Android/i),iOS:!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)}}(),device:function(){var e=navigator.userAgent;return{mobile:!!e.match(/AppleWebKit/i),iPhone:!!e.match(/iPhone/i),iPad:!!e.match(/iPad/i)}}(),supplier:function(){var e=navigator.userAgent;return{qq:!!e.match(/QQ\/\d+/i),wechat:!!e.match(/MicroMessenger/i),weixin:"MicroMessenger"==e.match(/MicroMessenger/i),ios:e.indexOf("_JFiOS")>-1,android:e.indexOf("_jfAndroid")>-1,mobile:!!e.match(/AppleWebKit.*Mobile.*/)}}(),language:(navigator.browserLanguage||navigator.language).toLowerCase(),androidVersion:function(){var e=navigator.userAgent,t=e.indexOf("Android");if(t>=0)return parseFloat(e.slice(t+8))}(),IosVersion:function(){var e=navigator.userAgent.toLowerCase(),t=e.match(/cpu iphone os (.*?) like mac os/);return t?t[1].replace(/_/g,"."):-1}()},windowBanEvent={bundling:function(){for(var e=this,t=["click","touchstart","touchmove","touchend"],a=0;a<t.length;a++)document.body.addEventListener(t[a],e.Canceling,!1),addEventListener(t[a],e.Canceling,!1)},unbundling:function(){for(var e=this,t=["click","touchstart","touchmove","touchend"],a=0;a<t.length;a++)document.body.removeEventListener(t[a],e.Canceling,!1),removeEventListener(t[a],e.Canceling,!1)},Canceling:function(e){var e=e||window.event;e.preventDefault?(e.preventDefault(),e.stopPropagation()):(e.returnValue=!1,e.cancelBubble=!0)}};document.addEventListener("touchstart",function(){},!1),browser.os.iOS&&document.addEventListener("touchmove",function(){var e=document.activeElement;if("INPUT"==e.tagName){-1==["checkbox","radio","button","image","range","reset","submit","week"].indexOf(e.getAttribute("type"))&&e.blur()}},!1);var loadInnerHtml={node:{loadingSuccess:'<div class="loading_box"><div class="success_animation"><div class="success_animation_circle"></div><div class="success_animation_cloud"></div><div class="success_animation_line2"></div><div class="success_animation_line3"></div><div class="success_animation_right"></div><div class="m-box"><div class="m-duigou"></div></div><div class="success_animation_text showtext"></div></div></div>',loading:'<div class="loading_box"><div class="jd_loading"><div class="loading_box jdshop_alignment_center"><div class="ball1"></div><div class="ball2"></div><div class="ball3"></div></div><div class="loading_animation_text showtext"></div></div></div>',loadingFail:'<div class="loading_box"><div class="fail_animation"><div class="fail_animation_circle"></div><div class="fail_animation_cloud"></div><div class="fail_animation_line2"></div><div class="fail_animation_line3"></div><div class="fail_animation_wrong"></div><div class="fail_animation_text showtext"></div></div></div>'}},jfShowTips={toastShow:function(e){var t=this;e||(e={});var a=e.text||"null",n="<span>"+a.toString().replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")+"</span>";t.toastRemove();var s="";if(browser.os.iOS){var o=document.activeElement;if("INPUT"==o.tagName){-1==["checkbox","radio","button","image","range","reset","submit","week"].indexOf(o.getAttribute("type"))&&(s="tip_input")}}var l=this.addNode("div",n,"tip_toast",s);setTimeout(function(){t.remove(l)},2e3)},toastRemove:function(){document.getElementById("tip_toast")&&this.remove(document.getElementById("tip_toast"))},loadingShow:function(e){var t=this;e||(e={}),windowBanEvent.bundling(),t.loadingRemove();var a=e.text||"LOADING..",n=e.thisNode||0,s=e.thisClass||!1,o=n;t.addLoadingBg("tip_loading_bg");document.getElementById("tip_loading_bg").addEventListener("touchmove",windowBanEvent.Canceling);var l=t.addNode("div",o,"tip_loading",s);document.getElementsByClassName("showtext")[0].innerHTML=t.changeString(a),document.activeElement.blur(),l.focus()},addLoadingBg:function(e){var t=this;return t.removeBg(),t.addNode("div","",e,"tip_loading_bg")},loadingRemove:function(){var e=this;document.getElementById("tip_loading")&&(windowBanEvent.unbundling(),e.remove(document.getElementById("tip_loading"))),e.removeBg("tip_loading_bg")},addNode:function(e,t,a,n){var s=document.createElement(e);return a&&(s.id=a),n&&(s.className=n),s.innerHTML=t,document.body.appendChild(s),s},dialogShow:function(e){e||(e={});var t=e.mainText||"null",a=e.minText||null,n=e.noCheck||!1,s=e.noCancel||!1,o=e.checkFn||null,l=e.checkBtnText||"确认",i=e.cancleBtnText||"取消",c=e.thisUrl||"javascript:",r=this,d=r.addBg("dialog_bg"),m='<div class="text_dialog_container"><div class="text_big">'+t+"</div>";a&&(m+='<div class="text_small">'+a+"</div>"),m+='<div class="dialog_button">',n||(m+='<a class="dialog_check red" href='+c+">"+l+"</a>"),s||(m+='<a class="dialog_cancel gray" href="javascript:">'+i+"</a>"),m+="</div></div>";var u=r.addNode("div",m,"tip_dialog");u.getElementsByClassName("dialog_cancel")[0]&&u.getElementsByClassName("dialog_cancel")[0].addEventListener("click",r.dialogRemove.bind(r),!1),d.addEventListener("click",r.dialogRemove.bind(r),!1),d.addEventListener("touchmove",windowBanEvent.Canceling,!1),o&&u.getElementsByClassName("dialog_check")[0].addEventListener("click",o,!1)},dialogRemove:function(){var e=this,t=document.getElementById("tip_dialog");e.remove(t);document.getElementById("dialog_bg");e.removeBg("dialog_bg")},addBg:function(e){var t=this;return t.removeBg(),t.addNode("div","",e,"tip_bg")},removeBg:function(e){document.getElementById(e)&&(document.getElementById(e).click(),this.remove(document.getElementById(e)))},remove:function(e){var t=e.parentNode;t&&t.removeChild(e)},transitionEndFn:function(e,t){e.addEventListener("webkitTransitionEnd",t),e.addEventListener("transitionend",t)},settimeoutFn:function(e){setTimeout(e,500)},changeString:function(e){return e.toString().replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")}},jfDialog=function(e){function t(){this.hide()}function a(e){window.event?window.event.returnValue=!1:e.preventDefault()}e||(e={}),this.details=e;var n=document.getElementById(this.details.ele),s=this.details.scrollClassname||0;n.getElementsByClassName("dialog_bg")[0].addEventListener("click",t.bind(this),!1),s&&function(e){function t(e){s=e.touches[0].pageY}function a(e){var t=this,a=t.scrollTop,n=t.scrollHeight,i=t.offsetHeight,c=t.clientHeight;o=e.touches[0].pageY,l=s-o,o=s,Math.abs(parseFloat(n)-parseFloat(c))<3&&e.preventDefault(),Math.abs(parseFloat(n)-parseFloat(a+i))<=2?l>0&&e.preventDefault():0==Math.abs(parseFloat(a))&&l<0&&e.preventDefault()}var s,o,l,i=n.getElementsByClassName(e)[0],c=n.getElementsByClassName("text_big")[0];i.addEventListener("touchstart",t,!1),i.addEventListener("touchmove",a,!1),c.addEventListener("touchmove",windowBanEvent.Canceling,!1)}(s),n.getElementsByClassName("dialog_bg")[0]&&(browser.os.android?n.getElementsByClassName("dialog_bg")[0].addEventListener("touchmove",windowBanEvent.Canceling,!1):function(e){for(var t=["touchstart","touchmove","touchend"],n=0;n<t.length;n++)e.addEventListener(t[n],a,!1)}(n.getElementsByClassName("dialog_bg")[0]))};jfDialog.prototype.show=function(e){e&&e.fn(),document.getElementById(this.details.ele).style.display="block",document.getElementsByClassName("dialog_bg")[0].addEventListener("touchmove",windowBanEvent.Canceling,!1)},jfDialog.prototype.hide=function(e){e&&e.fn(),document.getElementById(this.details.ele).style.display="none",windowBanEvent.unbundling()};var jfAutoPlay={jfAutoPlayInit:function(){function e(){var e=document.getElementsByClassName("jf_homepage_autoplay")[0];e.addEventListener("touchmove",n,!1),e.addEventListener("touchend",s,!1)}function t(){var e=document.getElementsByClassName("jf_homepage_autoplay")[0];e.removeEventListener("touchmove",n,!1),e.removeEventListener("touchend",s,!1)}function a(e){var t=document.getElementsByClassName("jf_homepage_autoplay")[0].getElementsByClassName("jf_autoplay_images")[0];clearInterval(v),h=E=e.touches[0].clientX;var a=t.getElementsByClassName("show")[0];a.className.indexOf("delay")<0&&N?(a.className+=" delay",t.getElementsByClassName("after")[0].className+=" delay",t.getElementsByClassName("before")[0].className+=" delay",function(){var e=document.getElementsByClassName("jf_homepage_autoplay")[0].getElementsByClassName("jf_autoplay_images")[0],t=e.getElementsByClassName("show")[0];if(browser.os.iOS&&t.className.indexOf("delay")>-1&&t.className.indexOf("move")>-1&&t.getAttribute("style").indexOf("translate3d")>-1){for(var a=0,n=e.getElementsByTagName("a"),s=0;s<n.length;s++)n[s].className&&0==n[s].getBoundingClientRect().left&&(a=s);n[a].className="show delay",0==a?(n[n.length-1].className="before delay",n[a+1].className="after delay"):a==n.length-1?(n[0].className="after delay",n[a-1].className="before delay"):(n[a+1].className="after delay",n[a-1].className="before delay");for(var s=0;s<n.length;s++)n[s].removeAttribute("style");t.style.opacity=.1,t.className=t.className.replace("delay",""),setTimeout(function(){t.style.opacity=""},1)}}()):(t.style.transition="transform 0s",t.style.webkitTransition="-webkit-transform 0s")}function n(e){var t=document.body.clientWidth;windowBanEvent.bundling();var a=e.touches[0].clientX;f=a-h>t/3||a-E>6?1:a-h<-t/3||a-E<-6?2:0;var n=document.getElementsByClassName("jf_homepage_autoplay")[0].getElementsByClassName("jf_autoplay_images")[0];if(N)m(n.getElementsByClassName("show")[0],a-h+"px"),m(n.getElementsByClassName("after")[0],a-h+"px"),m(n.getElementsByClassName("before")[0],a-h+"px");else{var s=a-h;y?s>=0?m(n,s-t+"px"):m(n,s/4-t+"px"):s<=0?m(n,s+"px"):m(n,s/4+"px")}E=a}function s(e){function t(){windowBanEvent.unbundling(),u(n,t),u(a,t)}var a=document.getElementsByClassName("jf_homepage_autoplay")[0].getElementsByClassName("jf_autoplay_images")[0],n=a.getElementsByClassName("show")[0],s=a.getElementsByClassName("after")[0];if(N){var d=a.getElementsByClassName("before")[0];n.className=n.className.replace(" delay",""),s.className=s.className.replace(" delay",""),d.className=d.className.replace(" delay","")}if(2==f&&N)c();else if(2==f)l();else if(1==f&&N)r();else if(1==f)i();else{if(N)m(n,0),m(s,0),m(d,0);else if(a.style.transition="",a.style.webkitTransition="",y){var B=document.body.clientWidth;m(a,"-"+B+"px")}else m(a,0);g(n,t),g(a,t)}v=N?setInterval(c,p):setInterval(o,p),f=h=E=0,windowBanEvent.unbundling()}function o(){y?i():l()}function l(){var e=document.getElementsByClassName("jf_homepage_autoplay")[0].getElementsByClassName("jf_autoplay_images")[0],t=document.body.clientWidth;e.style.transition="",e.style.webkitTransition="",m(e,"-"+t+"px"),y=1,d(1)}function i(){var e=document.getElementsByClassName("jf_homepage_autoplay")[0].getElementsByClassName("jf_autoplay_images")[0];e.style.transition="",e.style.webkitTransition="",m(e,0),y=0,d(0)}function c(){function a(){l.className+=" delay",i.className+=" delay",setTimeout(function(){o.className="",l.className="before delay",m(l,0),i.className="show delay ",m(i,0);for(var t=0,n=0;t<s.length;t++)if(s[t]==i)n=1,d(t);else if(n&&"A"==s[t].tagName)break;t!=s.length?s[t].className="after delay":s[0].className="after delay",u(l,a);for(var t=0;t<s.length;t++)m(s[t],0);e()},1)}t();var n=document.getElementsByClassName("jf_homepage_autoplay")[0].getElementsByClassName("jf_autoplay_images")[0],s=n.getElementsByTagName("a"),o=n.getElementsByClassName("before")[0],l=n.getElementsByClassName("show")[0],i=n.getElementsByClassName("after")[0];if(_){o.className="",l.className="before delay",m(l,0),i.className="show delay ",m(i,0);for(var c=0,r=0;c<s.length;c++)if(s[c].style&&s[c].removeAttribute("style"),s[c]==i)r=1,d(c);else if(r&&"A"==s[c].tagName)break;c!=s.length?s[c].className="after delay":s[0].className="after delay ",e()}else l.className=l.className.replace(" delay"," move"),m(l,"-100%"),i.className=i.className.replace(" delay"," move"),m(i,"-100%"),g(l,a)}function r(){function a(){l.className+=" delay",o.className+=" delay",setTimeout(function(){i.className="",l.className="after delay",m(l,0),o.className="show delay",m(o,0);for(var t=s.length-1,n=0;t>=0;t--)if(s[t]==o)n=1,d(t);else if(n&&"A"==s[t].tagName)break;-1!=t?s[t].className="before delay":s[s.length-1].className="before delay",u(l,a);for(var t=0;t<s.length;t++)m(s[t],0);e()},1)}t();var n=document.getElementsByClassName("jf_homepage_autoplay")[0].getElementsByClassName("jf_autoplay_images")[0],s=n.getElementsByTagName("a"),o=n.getElementsByClassName("before")[0],l=n.getElementsByClassName("show")[0],i=n.getElementsByClassName("after")[0];if(_){i.className="",l.className="after delay",m(l,0),o.className="show delay",m(o,0);for(var c=s.length-1,r=0;c>=0;c--)if(s[c].style&&s[c].removeAttribute("style"),s[c]==o)r=1,d(c);else if(r&&"A"==s[c].tagName)break;-1!=c?s[c].className="before delay":s[s.length-1].className="before delay",e()}else l.className=l.className.replace(" delay"," move_left"),m(l,"100%"),o.className=o.className.replace(" delay"," move_left"),m(o,"100%"),g(l,a)}function d(e){for(var t=document.getElementsByClassName("jf_homepage_autoplay")[0].getElementsByClassName("jf_pagination")[0],a=t.getElementsByTagName("span"),n=0;n<a.length;n++)a[n].removeAttribute("class");var s;s=e>=a.length?0:e,a[s].className="active"}function m(e,t){t?(e.style.transform="translate3d("+t+",0,0)",e.style.webkitTransform="translate3d("+t+",0,0)"):(e.style.transform="",e.style.webkitTransform="")}function u(e,t){e.removeEventListener("transitionend",t),e.removeEventListener("webkitTransitionEnd",t)}function g(e,t){e.addEventListener("transitionend",t),e.addEventListener("webkitTransitionEnd",t)}var h=0,f=0,v=0,p=5e3,y=0,E=0,N=!0,B=!1,_=!1,C=document.getElementsByClassName("jf_homepage_autoplay")[0].getElementsByClassName("jf_autoplay_images")[0],w=C.getElementsByTagName("a"),b=document.getElementsByClassName("jf_homepage_autoplay")[0].getElementsByClassName("jf_pagination")[0];if(C.className="jf_autoplay_images",_=!browser.supplier.wechat&&browser.androidVersion&&browser.androidVersion<5){for(var L=C.getElementsByTagName("img"),T=0;T<L.length;T++){var k=document.body.clientWidth;L[T].style.width=k+"px",L[T].style.height=k/750*348+"px"}2==w.length&&(C.style.whiteSpace="nowrap",w[1].style.marginLeft="-3px")}if(2==w.length?(N=!1,B=!0):1==w.length&&(N=!1,B=!1),B||N){b.innerHTML="";for(var T=0;T<w.length;T++){var x=document.createElement("span");b.appendChild(x)}d(0)}if(w[0].className="show delay",N)w[1].className="after delay",w[w.length-1].className="before delay",v=setInterval(c,p),document.getElementsByClassName("jf_homepage_autoplay")[0].addEventListener("touchstart",a,!1),e();else if(B){for(var k=document.body.clientWidth,T=0;T<w.length;T++)C.getElementsByTagName("a")[T].getElementsByTagName("img")[0].style.width=k+"px",w[T].style.width=k+"px";C.style.width=k*w.length+"px",w[1].className="show",document.getElementsByClassName("jf_homepage_autoplay")[0].addEventListener("touchstart",a,!1),e(),v=setInterval(o,p)}},jfCarouselInit:function(){jfAutoPlay.jfAutoPlayInit()}},jfLazyLoading={lazyLoadInit:function(e){var t=this;e||(e={}),t.thisImgEle=e.thisImgEle||"loading_img",t.bottomDistance=e.bottomDistance||"50",t.getLazyDistance(),addEventListener("scroll",function(){t.getLazyDistance()},!1)},getLazyDistance:function(){for(var e=this,t=document.body.scrollTop,a=window.innerHeight,n=parseFloat(t)+parseFloat(a),s=document.getElementsByClassName(e.thisImgEle),o=0;o<s.length;o++){var l=s[o].offsetTop,i=s[o].getAttribute("data-src");parseFloat(l)-n<=e.bottomDistance&&s[o].setAttribute("src",i)}},ajaxLoadInit:function(e){var t=this;e||(e={}),t.ajaxLoadDistance=e.ajaxLoadDistance||"50",t.fn=e.fn||0,addEventListener("scroll",function(){t.getAjaxLoadDistance()},!1)},getAjaxLoadDistance:function(){var e=this,t=document.body.scrollTop,a=document.body.scrollHeight,n=window.innerHeight;parseFloat(a)-parseFloat(t+n)<=e.ajaxLoadDistance&&e.fn&&e.fn()},ajaxContentInit:function(e){var t=this;e||(e={}),t.productdata=e.productdata||[{data_href:"javascript:",loading_src:"../../images/img_loading.gif",data_src:"../../images/img_loading.gif",acc_text:!1,gift_text:!1,product:"***",price_text:"0.00",praise:"100%"}];for(var a="",n=0;n<t.productdata.length;n++){a='<div class="product_main_img"><img class="loading_img" data-src='+t.productdata[n].data_src+" src="+t.productdata[n].loading_src+'></div><div class="product_main_title">',t.productdata[n].acc_text&&(a+='<span class="acc">附</span>'),t.productdata[n].gift_text&&(a+='<span class="gift">赠</span>'),a+=t.productdata[n].product+'</div><div class="product_main_price jdshop_alignment_center"><span class="price">￥'+t.productdata[n].price_text+'</span><span class="praise"><span>'+t.productdata[n].praise+"</span>好评</span></div>";t.ajaxAddnode("a",a,"product").setAttribute("href",t.productdata[n].data_href)}document.getElementsByClassName("hot_goods_list")[0].getElementsByClassName("acc"),document.getElementsByClassName("hot_goods_list")[0].getElementsByClassName("gift")},ajaxAddnode:function(e,t,a){var n=document.createElement(e);return a&&(n.className=a),n.innerHTML=t,document.getElementsByClassName("hot_goods_list")[0].appendChild(n),n}},jfLazyLoading={lazyLoadInit:function(e){var t=this;e||(e={}),t.thisImgEle=e.thisImgEle||"loading_img",t.bottomDistance=e.bottomDistance||"50",t.getLazyDistance(),addEventListener("scroll",function(){t.getLazyDistance()},!1)},getLazyDistance:function(){for(var e=this,t=document.body.scrollTop,a=window.innerHeight,n=parseFloat(t)+parseFloat(a),s=document.getElementsByClassName(e.thisImgEle),o=0;o<s.length;o++){var l=s[o].offsetTop,i=s[o].getAttribute("data-src");parseFloat(l)-n<=e.bottomDistance&&s[o].setAttribute("src",i)}},ajaxLoadInit:function(e){var t=this;e||(e={}),t.ajaxLoadDistance=e.ajaxLoadDistance||"50",t.fn=e.fn||0,addEventListener("scroll",function(){t.getAjaxLoadDistance()},!1)},getAjaxLoadDistance:function(){var e=this,t=document.body.scrollTop,a=document.body.scrollHeight,n=window.innerHeight;parseFloat(a)-parseFloat(t+n)<=e.ajaxLoadDistance&&e.fn&&e.fn()},ajaxContentInit:function(e){var t=this;e||(e={}),t.productdata=e.productdata||[{data_href:"javascript:",loading_src:"../../images/img_loading.gif",data_src:"../../images/img_loading.gif",acc_text:!1,gift_text:!1,product:"***",price_text:"0.00",praise:"100%"}];for(var a="",n=0;n<t.productdata.length;n++){a='<div class="product_main_img"><img class="loading_img" data-src='+t.productdata[n].data_src+" src="+t.productdata[n].loading_src+'></div><div class="product_main_title">',t.productdata[n].acc_text&&(a+='<span class="acc">附</span>'),t.productdata[n].gift_text&&(a+='<span class="gift">赠</span>'),a+=t.productdata[n].product+'</div><div class="product_main_price"><span class="price">￥'+t.productdata[n].price_text+'</span><span class="praise"><span>'+t.productdata[n].praise+"</span>好评</span></div>";t.ajaxAddnode("a",a,"product").setAttribute("href",t.productdata[n].data_href)}document.getElementsByClassName("hot_goods_list")[0].getElementsByClassName("acc"),document.getElementsByClassName("hot_goods_list")[0].getElementsByClassName("gift")},ajaxAddnode:function(e,t,a){var n=document.createElement(e);return a&&(n.className=a),n.innerHTML=t,document.getElementsByClassName("hot_goods_list")[0].appendChild(n),n}},viewMorePro={showMore:function(){function e(){i=1}function t(e){var t=e||window.event,a=window.innerWidth,l=this.scrollLeft,c=this.scrollWidth;o=parseFloat(c)-parseFloat(a+l),i&&o<=5&&(n=t.touches[0].screenX,i=0),s=t.touches[0].screenX}function a(){if(n){var e=s-n;if(Math.abs(e)>15&&o<=5){var t=this.previousElementSibling.getElementsByTagName("a");window.location.href=t.href}}}for(var n,s,o,l=document.getElementsByClassName("jf_product"),i=1,c=0;c<l.length;c++)l[c].addEventListener("touchstart",e,!1),l[c].addEventListener("touchmove",t,!1),l[c].addEventListener("touchend",a,!1)}},moveCount=0,newLazyLoad={init:function(e){var t=this;e||(e={}),t.thisDisBottom=e.thisDisBottom||30,0!=moveCount&&5!=moveCount||(t.showPic(),moveCount=0),moveCount++},showPic:function(){for(var e=this,t=window.innerHeight,a=document.getElementsByClassName("normal_product"),n=0;n<a.length;n++){var s=a[n].getBoundingClientRect().top;if(s>0&&parseFloat(s)-parseFloat(t)<=e.thisDisBottom)for(var o=a[n].getElementsByClassName("lazypic"),l=0;l<o.length;l++){var i=o[l].getAttribute("data-src");o[l].setAttribute("src",i)}}}},jfOrderTips={orderDetailsDialog:function(){function e(){document.getElementsByClassName("order_dialog")[0].style.display="none"}document.getElementById("view_order").addEventListener("click",function(){document.getElementsByClassName("order_dialog")[0].style.display="block",document.getElementById("dialog_bg_order").addEventListener("touchmove",windowBanEvent.Canceling,!1)},!1),document.getElementById("dialog_bg_order").addEventListener("click",e,!1),document.getElementsByClassName("cancel")[0].addEventListener("click",e,!1)},orderDiscountChoose:function(){function e(e){function t(){if("noDiscount"==s.id)for(var e=0;e<o.length-1;e++)o[e].className="discount_list";else document.getElementById("noDiscount").className=document.getElementById("noDiscount").className.replace(" select_use","")}function a(){s.className.indexOf("select_use")>-1?s.className="discount_list":s.className+=" select_use"}var n=e||window.event,s=n.srcElement||n.target,o=(document.getElementsByClassName("select_use"),document.getElementsByClassName("discount_list"));o[o.length-1];if(-1!==s.className.indexOf("discount_list"))return t(),a(),s;if(s==document.getElementById("discountBox"))return!1;for(;-1===s.className.indexOf("discount_list");)s=s.parentNode;t(),a()}document.getElementById("discountBox").addEventListener("click",e,!1)}},jfShowPop=function(e){function t(){this.hide()}function a(e){
window.event?window.event.returnValue=!1:e.preventDefault()}e||(e={}),this.details=e;var n=document.getElementById(this.details.ele),s=this.details.scrollClassname||0;n.getElementsByClassName("pop_cancel")[0].addEventListener("click",t.bind(this),!1),n.getElementsByClassName("jf_pop_up_bg")[0].addEventListener("click",t.bind(this),!1),s&&function(e){function t(e){s=e.touches[0].pageY}function a(e){var t=this,a=t.scrollTop,n=t.scrollHeight,i=t.offsetHeight,c=t.clientHeight;o=e.touches[0].pageY,l=s-o,o=s,Math.abs(parseFloat(n)-parseFloat(c))<3&&e.preventDefault(),Math.abs(parseFloat(n)-parseFloat(a+i))<=2?l>0&&e.preventDefault():0==Math.abs(parseFloat(a))&&l<0&&e.preventDefault()}var s,o,l,i=n.getElementsByClassName(e)[0],c=n.getElementsByClassName("sku_volume_purchased")[0],r=n.getElementsByClassName("pop_top")[0],d=n.getElementsByClassName("top_address")[0];i.addEventListener("touchstart",t,!1),i.addEventListener("touchmove",a,!1),c&&c.addEventListener("touchmove",windowBanEvent.Canceling,!1),d&&d.addEventListener("touchmove",windowBanEvent.Canceling,!1),r.addEventListener("touchmove",windowBanEvent.Canceling,!1)}(s),n.getElementsByClassName("jf_pop_up_bg")[0]&&(browser.os.android?n.getElementsByClassName("jf_pop_up_bg")[0].addEventListener("touchmove",windowBanEvent.Canceling,!1):function(e){for(var t=["touchstart","touchmove","touchend"],n=0;n<t.length;n++)e.addEventListener(t[n],a,!1)}(n.getElementsByClassName("jf_pop_up_bg")[0]))};jfShowPop.prototype.show=function(e){e&&e.fn();var t=document.getElementById(this.details.ele);t.style.display="block",setTimeout(function(){-1==t.className.indexOf("show")&&(t.className+=" show")},1),document.getElementsByClassName("jf_pop_up_bg")[0].addEventListener("touchmove",windowBanEvent.Canceling,!1)},jfShowPop.prototype.hide=function(){var e=document.getElementById(this.details.ele);e.className.indexOf("show")>-1&&(!function(e){function t(){e.style.display="none",e.removeEventListener("webkitTransitionEnd",t),e.removeEventListener("transitionend",t)}e.addEventListener("webkitTransitionEnd",t),e.addEventListener("transitionend",t)}(e),e.className=e.className.replace(" show","")),windowBanEvent.unbundling()};var jfReturnService={tabChange:function(){for(var e=document.getElementById("title_contain").getElementsByClassName("tab"),t=document.getElementsByClassName("after_sales_list"),a=0;a<e.length;a++)e[a].index=a,e[a].addEventListener("click",function(){for(var a=0;a<e.length;a++)t[a].className=t[a].className.replace(" show","");t[this.index].className+=" show"})},countWords:function(){document.getElementsByClassName("number_words_cancel")[0].getElementsByTagName("span")[0].innerHTML=document.getElementById("textareaCancelList").value.length},dateSelected:function(){var e=document.getElementById("myDate").value;document.getElementById("myDate").innerHTML=e},selectTab:function(){function e(){function e(e,t){for(var a=e.getElementsByClassName(t),n=0;n<3;n++)if(a[n].className.indexOf("selected")>-1)return n;return-1}var a="none",n="none",s=t[e(document.getElementsByClassName("type_choose")[0],"service_tab")].y[e(document.getElementsByClassName("return_choose")[0],"return_tab")];s[0]&&(a="block"),s[1]&&(n="block"),document.getElementById("fetchAddress").style.display=a,document.getElementById("deliveryAddress").style.display=n}document.getElementsByClassName("type_choose")[0].addEventListener("click",function(a){var n=a||window.event,s=n.srcElement||n.target;if(s!=this){this.getElementsByClassName("selected")[0]&&(this.getElementsByClassName("selected")[0].className=this.getElementsByClassName("selected")[0].className.replace(" selected","")),s.className+=" selected";for(var o=0;o<3;o++)t[o].name.indexOf(s.getAttribute("data-name"))>-1&&function(e){document.getElementsByClassName("application_quantity")[0].style.display="block",document.getElementsByClassName("return_mode")[0].style.display="block",document.getElementsByClassName("return_address")[0].style.display="block";var t=e;document.getElementsByClassName("refund_method")[0].style.display=t?"block":"none"}(t[o].x)}e()}),document.getElementsByClassName("return_choose")[0].addEventListener("click",function(t){var a=t||window.event,n=a.srcElement||a.target;n!=this&&(this.getElementsByClassName("selected")[0].className=this.getElementsByClassName("selected")[0].className.replace("selected",""),n.className+=" selected"),"delivery"==n.getAttribute("data-name")?(document.getElementsByClassName("return_explain")[0].style.zIndex="5",document.getElementsByClassName("return_explain")[1].style.zIndex="1",document.getElementsByClassName("return_explain")[2].style.zIndex="1"):"picking"==n.getAttribute("data-name")?(document.getElementsByClassName("return_explain")[1].style.zIndex="5",document.getElementsByClassName("return_explain")[0].style.zIndex="1",document.getElementsByClassName("return_explain")[2].style.zIndex="1"):(document.getElementsByClassName("return_explain")[2].style.zIndex="5",document.getElementsByClassName("return_explain")[0].style.zIndex="1",document.getElementsByClassName("return_explain")[1].style.zIndex="1"),e()});var t=[{name:"return",x:!0,y:[[!0,!1],[!1,!1],[!1,!1]]},{name:"exchange",x:!1,y:[[!0,!0],[!0,!1],[!0,!1]]},{name:"repair",x:!1,y:[[!0,!0],[!0,!1],[!0,!1]]}]},addPhoto:function(){var e=document.getElementsByClassName("choose_file")[document.getElementsByClassName("choose_file").length-1];e.getElementsByTagName("input")[0].addEventListener("change",function(){var t=this,a=(this.files[0].name,t.files.length);!function(){for(var n=0;n<a;n++){if(!/image\/\w+/.test(t.files[n].type))return alert("上传的图片格式错误，请上传图片"),!1;var s=new FileReader;s.error=function(e){alert("读取异常")},s.onload=function(t){function a(){var e=document.getElementsByClassName("photo_content")[0].getElementsByClassName("choose_file").length-1;document.getElementById("image_length").innerHTML=e}var n='<img src="'+t.target.result+'"/>',s=document.createElement("div"),o=document.createElement("div");document.getElementsByClassName("photo_content")[0].getElementsByClassName("choose_file").length<=10?(s.innerHTML=n+'<div class="delete_img"></div>',s.className="choose_file",o.className="delete_img",document.getElementsByClassName("photo_content")[0].insertBefore(s,e),document.getElementsByClassName("photo_content")[0].scrollLeft=9999,a(),s.getElementsByClassName("delete_img")[0].addEventListener("click",function(){jfShowTips.remove(this.parentNode),a()},!1)):(jfShowTips.loadingShow({text:"最多添加10张图片",thisNode:loadInnerHtml.node.loadingFail}),setTimeout(function(){jfShowTips.loadingRemove()},2e3))},s.readAsDataURL(t.files[n])}}()})},chooseAddress:function(){document.getElementById("switch_jd").addEventListener("click",function(){this.checked?document.getElementsByClassName("address_inconsistency")[0].style.display="block":document.getElementsByClassName("address_inconsistency")[0].style.display="none"},!1)},countWordsDescription:function(){document.getElementsByClassName("number_words")[0].getElementsByTagName("span")[0].innerHTML=document.getElementById("textareaList").value.length},chooseImgShow:function(){document.getElementsByClassName("images_content")[0].addEventListener("click",function(e){var t=e||window.event,a=t.srcElement||t.target,n=document.getElementById("servicePopUp");if("IMG"==a.tagName){var s='<img src="'+a.parentNode.getAttribute("data-src")+'"/>';a.parentNode.getAttribute("data-src")?n.getElementsByClassName("img_content")[0].innerHTML=s:n.getElementsByClassName("img_content")[0].innerHTML=a.parentNode.innerHTML,function(){function e(){document.getElementById("servicePopUp").style.display="none",document.getElementsByClassName("delete_pic")[0].removeEventListener("click",e,!1)}document.getElementById("servicePopUp").style.display="block",document.getElementById("serviceShadow").addEventListener("touchmove",windowBanEvent.Canceling,!1),document.getElementsByClassName("img_content")[0].addEventListener("touchmove",windowBanEvent.Canceling,!1),document.getElementsByClassName("delete_pic")[0].addEventListener("click",e,!1)}()}},!1)}},jdSearch_results={hidePrompt:function(){for(var e=document.getElementById("search_prompt").getElementsByClassName("jd_drop_down"),t=0;t<e.length;t++)e[t].className="jd_drop_down"},hideShow:function(e){function t(e){for(var t=[],a=0;a<e.length;a++)t.push(o.getElementsByClassName(e[a])[0]);return t}var a,n=["comprehensive","brand","filter"],s=["volume","price"],o=document.getElementsByClassName("search_nav_content")[0];a=t(1==e?n:s);for(var l=0;l<a.length;l++)a[l].className.indexOf("show")>-1&&(a[l].className=a[l].className.replace("show",""))},filterBlockEvent:function(){function e(e){for(var a=document.getElementsByClassName("sort_block"),n=0;n<a.length;n++)1==e?document.getElementsByClassName("type")[n].addEventListener("click",t,!1):document.getElementsByClassName("type")[n].removeEventListener("click",t,!1)}function t(e){var t=e||window.event,a=t.srcElement||t.target;"type"==a.className?a.className="type":a.className.indexOf("selected")>-1?a.className="":a.className+=" selected"}function a(){for(var e=document.getElementsByClassName("type"),t=0;t<e.length;t++)for(var a=e[t].getElementsByTagName("div"),n=0;n<a.length;n++)a[n].className=a[n].className.replace("selected","");!function(){for(var e=document.getElementsByTagName("input"),t=0;t<e.length;t++)e[t].value&&(e[t].value="")}()}document.getElementsByClassName("filter")[0].addEventListener("click",function(){document.getElementById("filter_list").className.indexOf("show")>-1?(jdSearch_results.hidePrompt(),searchFilter.hide(),this.className="filter",e(0)):(jdSearch_results.hidePrompt(),-1==this.className.indexOf("show")&&(this.className+=" show"),searchFilter.show(),e(1))}),document.getElementsByClassName("filter_reset")[0].addEventListener("click",a,!1)},brandBlockEvent:function(){function e(){for(var e=document.getElementsByClassName("brand_list")[0],t=e.getElementsByTagName("div"),a=0;a<t.length;a++)t[a].className=t[a].className.replace("selected","")}document.getElementsByClassName("brand_list")[0].addEventListener("click",function(e){var t=e||window.event,a=t.srcElement||t.target;"brand_list"==a.className?a.className="brand_list":a.className.indexOf("selected")>-1?a.className="":a.className+=" selected"},!1),document.getElementsByClassName("brand")[0].addEventListener("click",function(){document.getElementById("brand_list").className.indexOf("show")>-1?(jdSearch_results.hidePrompt(),searchBrand.hide(),this.className="brand"):(jdSearch_results.hidePrompt(),-1==this.className.indexOf("show")&&(this.className+=" show"),searchBrand.show())},!1),document.getElementsByClassName("brand_reset")[0].addEventListener("click",e,!1)},generalBlockEvent:function(){function e(a){var n=a||window.event,s=n.srcElement||n.target;document.getElementsByClassName("selected")[0]&&(document.getElementsByClassName("selected")[0].className=""),s.className+=" selected",searchGeneral.hide({fn:function(){document.getElementsByClassName("general_list")[0].removeEventListener("click",e,!1)}}),document.getElementsByClassName("comprehensive")[0].getElementsByTagName("span")[0].innerHTML=s.getAttribute("data-name"),t.zhSelect("general_list","comprehensive")}var t=this;document.getElementsByClassName("comprehensive")[0].addEventListener("click",function(){document.getElementById("general_list").className.indexOf("show")>-1?(jdSearch_results.hidePrompt(),searchGeneral.hide()):(jdSearch_results.hidePrompt(),-1==this.className.indexOf("show")&&(this.className+=" show"),searchGeneral.show({fn:function(){document.getElementsByClassName("general_list")[0].addEventListener("click",e,!1)}}))},!1)},searchRecommend:function(e){var t=this,a=0,n=0;e.keyFn&&(a=e.keyFn),e.categoryFn&&(n=e.categoryFn);var s=document.getElementsByClassName("search_results_recommend")[0];s.addEventListener("click",function(e){var o=e||window.event,l=o.srcElement||o.target;if(l!=s){var i;i=l.className.indexOf("product")>-1?l:l.parentNode;var c=document.getElementsByClassName("search_tab")[0],r=c.getElementsByClassName("product_choose");if(r.length>1)for(var d=0;d<2;d++)r[0].parentNode.removeChild(r[0]);t.keyName=document.getElementsByClassName("search_tab")[0].getElementsByTagName("span")[0].innerHTML,t.categoryName=i.getElementsByTagName("span")[0].innerHTML,t.caseBox(t.keyName,a),t.caseBox(t.categoryName,n),document.getElementsByClassName("search_recommend_content")[0].innerHTML=""}},!1)},caseBox:function(e,t){var a=document.createElement("div"),n=document.getElementsByClassName("product_choose");if(a.className="product_choose",a.innerHTML=e,n.length>1)for(var s=0;s<2;s++)n[0].parentNode.removeChild(n[0]);t&&a.addEventListener("click",t,!1),a.addEventListener("click",function(e){for(var t=document.getElementsByClassName("product_choose"),a=0;a<t.length&&t[a].innerHTML==this.innerHTML;a++);document.getElementsByClassName("search_tab")[0].getElementsByTagName("span")[0].innerHTML=t[a].innerHTML;for(var n=0;n<2;n++)t[0].parentNode.removeChild(t[0]);e.preventDefault(),e.stopPropagation()},!1);var o=document.getElementsByClassName("search_tab")[0].getElementsByTagName("span")[0];document.getElementsByClassName("search_tab")[0].insertBefore(a,o)},priceChoose:function(){function e(){for(var e=0;e<a.length;e++)a[e].className.indexOf("show")>-1&&(a[e].className=a[e].className.replace("show",""))}for(var t=this,a=document.getElementsByClassName("search_results_tab"),n=0;n<a.length;n++)a[n].addEventListener("click",function(){e(),this.className+=" show",searchGeneral.hide(),t.zhSelect("general_list","comprehensive")},!1)},zhSelect:function(e,t){var a=document.getElementById(e),n=document.getElementsByClassName("search_results_nav")[0].getElementsByClassName(t)[0],s=n.getElementsByClassName("arrow")[0];setTimeout(function(){a.className.indexOf("show")<0&&n.className.indexOf("show")>-1&&s.className.indexOf("another")<0?s.className+=" another":s.className=s.className.replace(" another","")},100)}},jfDropDown=function(e){function t(){this.hide()}function a(e){window.event?window.event.returnValue=!1:e.preventDefault()}e||(e={}),this.details=e;var n=document.getElementById(this.details.ele),s=this.details.scrollClassname||0;n.getElementsByClassName("jd_drop_down_bg")[0].addEventListener("click",t.bind(this),!1),s&&function(e){function t(e){s=e.touches[0].pageY}function a(e){var t=this,a=t.scrollTop,n=t.scrollHeight,i=t.offsetHeight;o=e.touches[0].pageY,l=s-o,o=s,Math.abs(parseFloat(n)-parseFloat(a+i))<=2?l>0&&e.preventDefault():0==Math.abs(parseFloat(a))&&l<0&&e.preventDefault()}var s,o,l,i=n.getElementsByClassName(e)[0];i.addEventListener("touchstart",t,!1),i.addEventListener("touchmove",a,!1)}(s),n.getElementsByClassName("jd_drop_down_bg")[0]&&function(e){for(var t=["touchstart","touchmove","touchend"],n=0;n<t.length;n++)e.addEventListener(t[n],a,!1)}(n.getElementsByClassName("jd_drop_down_bg")[0])};jfDropDown.prototype.show=function(e){e&&e.fn();var t=document.getElementById(this.details.ele);t.style.display="block",setTimeout(function(){-1==t.className.indexOf("show")&&(t.className+=" show")},1),document.getElementsByClassName("jd_drop_down_bg")[0].addEventListener("touchmove",windowBanEvent.Canceling)},jfDropDown.prototype.hide=function(e){e&&e.fn();var t=document.getElementById(this.details.ele);t.className.indexOf("show")>-1&&(!function(e){function t(){e.style.display="none",e.removeEventListener("webkitTransitionEnd",t),e.removeEventListener("transitionend",t)}e.addEventListener("webkitTransitionEnd",t),e.addEventListener("transitionend",t)}(t),t.className=t.className.replace(" show","")),windowBanEvent.unbundling()};var jdShoppingCart={editDeleteChange:function(){document.getElementById("editTabBtn").addEventListener("click",function(){"编辑"==this.innerText?(this.innerText="完成",document.getElementById("settlementTab").style.transform="translateY(55px)",document.getElementById("deleteTab").style.transform="translateY(0)"):"完成"==this.innerText&&(this.innerText="编辑",document.getElementById("settlementTab").style.transform="translateY(0)",document.getElementById("deleteTab").style.transform="translateY(55px)")})},checkBoxChange:function(){function e(){for(var e=document.getElementById("list_contain").getElementsByClassName("radio"),t=0;t<e.length;t++)if(!e[t].checked)return!1;return!0}function t(e){n(document.getElementById("list_contain").getElementsByClassName("radio"),e)}function a(e){n(document.getElementsByClassName("allcheck"),e)}function n(e,t){for(var a=0;a<e.length;a++)e[a].checked=t}for(var s=document.getElementById("list_contain").getElementsByClassName("radio"),o=document.getElementsByClassName("allcheck"),l=0;l<o.length;l++)o[l].addEventListener("click",function(){var e=this.checked;t(e),a(e)},!1);for(var i=0;i<s.length;i++)s[i].addEventListener("click",function(){a(e())},!1)},checkBoxChoose:function(e){for(var t=document.getElementsByClassName("select_key"),a=0;a<t.length;a++)t[a]==e&&e.checked?t[a].checked=!0:t[a].checked=!1}},similarList={listResetAll:function(){for(var e=document.getElementsByClassName("watch_brand_list")[0],t=e.getElementsByTagName("div"),a=0;a<t.length;a++)t[a].className=t[a].className.replace("selected","")},chooseTabSimilar:function(e){var t=e||window.event,a=t.srcElement||t.target;a!=this&&(this.getElementsByClassName("choose_tab")[0].className="tab",a.className="tab choose_tab")},chooseSort:function(e){var t=e||window.event,a=t.srcElement||t.target;"watch_brand_list"==a.className?a.className="watch_brand_list":(document.getElementsByClassName("selected")[0]&&(document.getElementsByClassName("selected")[0].className=""),a.className+=" selected")},brandDialog:function(){document.getElementsByClassName("brand")[0].addEventListener("click",function(){followList.retractTab(),document.getElementById("watch_brand_list").className.indexOf("show")>-1?(watchBrand.hide(),this.className="brand"):(-1==this.className.indexOf("show")&&(this.className+=" show"),watchBrand.show())},!1)},chooseListTab:function(){for(var e=document.getElementsByClassName("tab"),t=0;t<e.length;t++)e[t].addEventListener("click",function(){document.getElementsByClassName("choose_tab")[0]&&(document.getElementsByClassName("choose_tab")[0].className="tab"),followList.retractTab(),this.className="tab choose_tab",watchBrand.hide()},!1)}},followList={showCheckBox:function(){var e=document.getElementsByClassName("followcheck"),t=document.getElementsByClassName("follow_box");if(this.innerHTML.indexOf("编辑")>-1){for(var a=0;a<t.length;a++)e[a].className="followcheck radio_show";document.getElementsByClassName("tab_content")[0].style.transform="translate3d(0,0,0)",this.innerHTML="取消"}else if(this.innerHTML.indexOf("取消")>-1){this.innerHTML="编辑";for(var a=0;a<t.length;a++)e[a].className="followcheck";for(var n=document.getElementsByClassName("aui-radio"),s=0;s<n.length;s++)n[s].checked=!1;document.getElementsByClassName("tab_content")[0].style.transform="translate3d(0,100%,0)"}},retractTab:function(){var e=document.getElementsByClassName("followcheck"),t=document.getElementsByClassName("follow_box");if(document.getElementById("followGoods").innerHTML.indexOf("取消")>-1){for(var a=0;a<t.length;a++)e[a].className="followcheck";document.getElementsByClassName("tab_content")[0].style.transform="translate3d(0,100%,0)",document.getElementById("followGoods").innerHTML="编辑"}}},productInfoPlay={figer:{ischange:!0,ismove:!0},init:function(e){var t=this;if(e||(e={}),t.moveEle=e.moveEle||"allimg",t.moveEleParent=e.moveEleParent||"demo1",t.scaleEleParent=e.scaleEleParent||"jdshow_center_center",t.allShowEle=e.allShowEle||!1,t.fn=e.fn||0,t.thisPosition=0,t.moveDistanceX=0,t.moveDistanceY=0,t.initPointEle(t.moveEleParent),t.moveEvent(),t.allShowEle){document.getElementsByClassName(t.allShowEle)[0].getElementsByClassName(t.moveEle)[0].innerHTML=document.getElementsByClassName(t.moveEle)[0].innerHTML,document.getElementsByClassName("img_content")[0].addEventListener("touchmove",function(e){e.preventDefault()},!1);for(var a=document.getElementsByClassName(t.moveEle)[0].getElementsByClassName(t.scaleEleParent),n=0;n<a.length;n++)a[n].getElementsByTagName("div")[0].className="";document.getElementsByClassName("delete_banner")[0].addEventListener("click",function(){for(var e=document.getElementsByClassName("jd_banner_touch"),a=0;a<e.length;a++)e[a].style.transform="scale3d(1,1,1) translate3d(0,0,0)";document.getElementsByClassName(t.allShowEle)[0].style.display="none",document.getElementsByTagName("body")[0].style.overflow="",document.getElementsByTagName("html")[0].style.overflow="",document.getElementsByTagName("body")[0].style.height="100%",document.getElementsByTagName("html")[0].style.height="100%"},!1),initBannerTouch({leftFn:function(){},rightFn:function(e){}})}},moveEvent:function(){function e(e){var t=e||window.event;n=parseFloat(t.touches[0].clientX),s=parseFloat(t.touches[0].clientY),m=u=n}function t(e){var t=e||window.event;return o=parseFloat(t.changedTouches[0].clientX),l=parseFloat(t.changedTouches[0].clientY),m=u,u=o,i.moveDistanceX=o-n,i.moveDistanceY=l-s,Math.abs(u-m)}function a(){for(var e=0;e<c.length;e++)c[e].className=""+i.moveEle,c[e].removeEventListener("transitionend",a,!1),c[e].removeEventListener("transitionend",a,!1)}var n,s,o,l,i=this,c=document.getElementsByClassName(i.moveEle),r=c[0].getElementsByClassName(i.scaleEleParent).length-1,d=window.innerWidth,m=0,u=0,g=0;c[0].addEventListener("touchstart",function(t){1==(t||window.event).touches.length&&(i.moveDistanceX=0,i.moveDistanceY=0,i.figer.ischange=!0,e(t),(this.className=i.moveEle+" contentchange")&&(this.className=""+i.moveEle))},!1),c[0].addEventListener("touchmove",function(e){var a=e||window.event;1==a.touches.length&&(g=t(e),i.figer.ischange&&(Math.abs(i.moveDistanceY)>Math.abs(i.moveDistanceX)?i.figer.ismove=!1:i.figer.ismove=!0,i.figer.ischange=!1),i.figer.ismove&&(a.preventDefault(),a.stopPropagation(),(0==i.thisPosition&&i.moveDistanceX>0||i.thisPosition==-r&&i.moveDistanceX<0)&&(i.moveDistanceX=i.moveDistanceX/3),i.changeTranslate(parseFloat(i.thisPosition*d)+parseFloat(i.moveDistanceX)+"px")))},!1),c[0].addEventListener("touchend",function(e){1==(e||window.event).changedTouches.length&&i.figer.ismove&&(this.className=i.moveEle+" contentchange",this.parentElement==document.getElementsByClassName(i.moveEleParent)[0]&&i.thisPosition==-r&&i.moveDistanceX<0&&Math.abs(i.moveDistanceX)>55&&i.fn&&i.fn(),Math.abs(i.moveDistanceX)>d/3||g>6?i.movePosition(i.moveDistanceX):i.changeTranslate(parseFloat(i.thisPosition*d)+"px"),i.transitionFn(a))},!1),c[0].addEventListener("click",function(){i.showNewBanner()},!1)},movePosition:function(e){var t=this,a=window.innerWidth,n=document.getElementsByClassName(t.moveEle),s=n[0].getElementsByClassName(t.scaleEleParent).length-1,o=document.getElementsByClassName("allpoint"),l=o[0].getElementsByTagName("span"),i=o[o.length-1].getElementsByTagName("span");if(parseFloat(e)<0?t.thisPosition>-s?t.thisPosition--:t.thisPosition=-s:parseFloat(e)>0&&(t.thisPosition<0?t.thisPosition++:t.thisPosition=0),t.changeTranslate(a*this.thisPosition+"px"),l){for(var c=0;c<o.length;c++)o[c].getElementsByClassName("showpoint")[0].className="";l[-this.thisPosition].className="showpoint",i[-this.thisPosition].className="showpoint"}},initPointEle:function(e){for(var t=this,a=document.getElementsByClassName(t.moveEle)[0].getElementsByClassName(t.scaleEleParent),n="",s=0;s<a.length;s++)n+=0==s?'<span class="showpoint"></span>':"<span></span>";!function(t,a,n){var s=document.createElement(t);n&&(s.className=n),s.innerHTML=a,document.getElementsByClassName(e)[0].appendChild(s)}("div",n,"allpoint")},changeTranslate:function(e){for(var t=this,a=document.getElementsByClassName(t.moveEle),n=0;n<a.length;n++)a[n].style.transform="translateX("+e+")",a[n].style.webkitTransform="translateX("+e+")"},transitionFn:function(e){for(var t=this,a=document.getElementsByClassName(t.moveEle),n=0;n<a.length;n++)a[n].addEventListener("TransitionEnd",e,!1),a[n].addEventListener("webkitTransitionEnd",e,!1)},showNewBanner:function(){var e=this,t=window.innerHeight;0==e.moveDistanceX&&0==e.moveDistanceY&&e.allShowEle&&(document.getElementsByClassName(e.allShowEle)[0].style.display="block",document.getElementsByTagName("body")[0].style.height=t+"px",document.getElementsByTagName("html")[0].style.height=t+"px",document.getElementsByTagName("body")[0].style.overflow="hidden",document.getElementsByTagName("html")[0].style.overflow="hidden")}},jfProductDetails={slidePositionTab:function(){if(!browser.os.iOS){var e=document.getElementById("NavTab"),t=document.getElementById("NavTabEmpty");!function(){t.getBoundingClientRect().top<=0?(e.style.position="fixed",e.style.top="45px",e.style.zIndex="100"):e.style.cssText=""}()}},clickTabChange:function(e,t,a){for(var n=e.getElementsByClassName(a),s=0;s<n.length;s++)n[s].addEventListener("click",function(){e.getElementsByClassName(t)[0].className=e.getElementsByClassName(t)[0].className.replace(t,""),this.className+=" "+t},!1)},skuBoxChange:function(){for(var e=document.getElementById("main_sku").getElementsByClassName("sku_contain"),t=0;t<e.length;t++)jfProductDetails.clickTabChange(e[t],"choose_tab","sku_box")},tabScrollChange:function(){window.addEventListener("scroll",function(){function e(e,t,a){e.getElementsByClassName("choose_tab")[0]&&(e.getElementsByClassName("choose_tab")[0].className=e.getElementsByClassName("choose_tab")[0].className.replace("choose_tab","")),e.getElementsByClassName(t)[a].className+=" choose_tab"}var t=document.getElementById("NavTab"),a=document.getElementsByClassName("product_nav_contain")[0],n=t.offsetHeight+a.offsetHeight,s=document.getElementsByClassName("product_images_parameter")[0],o=document.getElementsByClassName("product_images_service")[0],l=document.getElementsByClassName("product_images")[0];l.getBoundingClientRect().top>t.offsetHeight?e(document.getElementsByClassName("content")[0],"nav_tab",0):l.getBoundingClientRect().top<=t.offsetHeight&&(e(document.getElementsByClassName("content")[0],"nav_tab",1),function(){o.getBoundingClientRect().top-n<=0?e(document.getElementById("NavTab"),"tab",2):s.getBoundingClientRect().top-n<=0?e(document.getElementById("NavTab"),"tab",1):e(document.getElementById("NavTab"),"tab",0)}())})},scrollEle:function(e,t){function a(){i=(25-l)/25*.9+1,n=document.body.scrollTop+c/50*i,window.scrollTo(0,n),50==++l&&(window.scrollTo(0,s),clearInterval(o))}var n,s=e.getBoundingClientRect().top+document.body.scrollTop-t,o=setInterval(a,5),l=0,i=1,c=s-document.body.scrollTop},changeHideBtn:function(e){var t=document.getElementsByClassName("prompt_btn")[0];t.getElementsByClassName("hidebtn")[0].className=t.getElementsByClassName("hidebtn")[0].className.replace("hidebtn",""),t.getElementsByClassName(e)[0].className+=" hidebtn"},volumeChange:function(e){function t(){var e=this.parentNode.getElementsByClassName("volume_input")[0],t=parseInt(e.value);this.className.indexOf("reduce")>-1?e.value=a(t-1):e.value=a(t+1)}function a(e){return e<=1||!e?1:e}function n(){window.scrollTo(0,l),s()}function s(){this.value=a(this.value)}function o(){l=document.body.scrollTop,setTimeout(function(){window.scrollTo(0,document.body.scrollHeight)},300)}for(var l,i=document.getElementsByClassName("volume_btn"),c=0;c<i.length;c++)if(i[c].getElementsByClassName("reduce")[0].addEventListener("touchstart",t,!1),i[c].getElementsByClassName("add")[0].addEventListener("touchstart",t,!1),i[c].getElementsByClassName("volume_input")[0].addEventListener("blur",s,!1),browser.os.iOS&&e){var r=i[c].getElementsByClassName("volume_input")[0];r.addEventListener("focus",o,!1),r.addEventListener("blur",n,!1)}},clickThrough:function(e,t){function a(e){s=e.touches[0].pageY}function n(e){var t=this,a=t.scrollTop,n=t.scrollHeight,i=t.offsetHeight;o=e.touches[0].pageY,l=s-o,o=s,Math.abs(parseFloat(n)-parseFloat(a+i))<=2?l>0&&e.preventDefault():0==Math.abs(parseFloat(a))&&l<0&&e.preventDefault()}for(var s,o,l,i=document.getElementById(e).getElementsByClassName(t),c=document.getElementsByClassName("pop_top")[0],r=document.getElementById("jd_address_select").getElementsByClassName("top_address")[0],d=0;d<i.length;d++)i[d].addEventListener("touchstart",a,!1),i[d].addEventListener("touchmove",n,!1);r&&r.addEventListener("touchmove,touchstart",windowBanEvent.Canceling,!1),c.addEventListener("touchmove",windowBanEvent.Canceling,!1)}},shoppingCart={changeX:1,changeY:1,xhr:function(e){var t=this,a=e.api||0,n=e.type||"get",s=function(){return window.XMLHttpRequest?new XMLHttpRequest:new ActiveObject("Micrsorf.XMLHttp")}();s.onreadystatechange=function(){switch(s.readyState){case 0:case 1:case 2:case 3:break;case 4:s.status>=200&&s.status<300||304==s.status?t.fn(s.responseText,e):console.log("读取失败")}},s.open(n,a),s.send(null)},run:function(e){this.xhr(e),this.changeClass(e)},changeClass:function(){function e(){t(2);for(var e=0;e<n.length&&this!=n[e];e++);this.className="show",a.getElementsByClassName("address")[e].className+=" show"}function t(e){for(var t=0;t<e;t++)a.getElementsByClassName("show")[0].className=a.getElementsByClassName("show")[0].className.replace("show","")}var a=document.getElementById("jd_address_select"),n=a.getElementsByClassName("top_address")[0].getElementsByTagName("div");if(a.getElementsByClassName("show")[0]&&t(1),n[0].innerHTML="请选择",-1==n[0].className.indexOf("show")&&(n[0].className="show"),-1==a.getElementsByClassName("address")[0].className.indexOf("show")&&(a.getElementsByClassName("address")[0].className+=" show"),this.changeX){for(var s=0;s<n.length;s++)n[s].addEventListener("click",e,!1);this.changeX=0}},fn:function(e,t){function a(e,t){for(var a="",s=0;s<t.length;s++)a+='<p data-li="'+s+'">'+t[s].name+"</p>";e.innerHTML=a;for(var o=e.getElementsByTagName("p"),l=0;l<o.length;l++)o[l].addEventListener("click",n,!1)}function n(){this.parentNode.getElementsByClassName("p_show")[0]&&this.parentNode.getElementsByClassName("p_show")[0].removeAttribute("class"),this.className="p_show"}function s(e){if(this.className.indexOf("show")>-1){for(var t=0;t<m.length&&this!=m[t];t++);var n=e.target.getAttribute("data-li");u[t]=n,u=u.slice(0,t+1);for(var s,r=c,d=0;d<=t&&(s=r[u[d]],r=s.child);d++);var h=i.getElementsByClassName("top_address")[0].getElementsByTagName("div");if(g[t]=s.name,g=g.slice(0,t+1),h[t].innerHTML=s.name,h[t].removeAttribute("class"),r)h[t+1].innerHTML="请选择",h[t+1].className="show",m[t+1].className+=" show",this.className=this.className.replace(" show",""),a(m[t+1],r);else{for(var f="",v=0;v<g.length;v++)f+=g[v],v!=g.length-1&&(f+="，");o.innerHTML=f,chooseAdressId=function(){for(var e=[],t=c,a=0;a<u.length;a++)e[a]=t[u[a]].id,t=t[u[a]].child;return e}(),setTimeout(function(){l()},300)}}}for(var o=t.targetDom,l=t.fn,i=document.getElementById("jd_address_select"),c=JSON.parse(e).data,r=i.getElementsByClassName("top_address")[0].getElementsByTagName("div"),d=1;d<r.length;d++)r[d].innerHTML="";a(i.getElementsByClassName("address")[0],c);var m=i.getElementsByClassName("address");if(this.changeY){for(var d=0;d<m.length;d++)m[d].addEventListener("click",s);this.changeY=0}var u=[],g=[]}},addressChoose={o:1,i:1,z:1,run:function(e){function t(e,t,o,l){var i=(e.api,e.type||"get"),c=e.yourUrl||"http://118.242.19.26:188",r=c+"/jf_market_jd_server/api/address/getArea?areaId="+t,d=function(){return window.XMLHttpRequest?new XMLHttpRequest:new ActiveObject("Micrsorf.XMLHttp")}();d.onreadystatechange=function(){function t(e){for(var t=i[e].getElementsByTagName("p"),a=0;a<t.length&&u[e]!=t[a].getAttribute("areaId");a++);t[a].className="p_show"}switch(d.readyState){case 0:case 1:case 2:case 3:break;case 4:if(d.status>=200&&d.status<300||304==d.status){var i=document.getElementById("jd_address_select").getElementsByClassName("address");if(1==o)s(d.responseText,e),h&&t(l);else if(2==o){var c=JSON.parse(d.responseText).data;c&&(a(i[l+1],c),t(l+1))}else{var c=JSON.parse(d.responseText).data;c&&a(i[l+1],c),n(l,c)}}else console.log("读取失败")}},d.open(i,r),d.send(null)}function a(e,t){function a(){
o=this.innerHTML,l=this.getAttribute("areaid"),this.parentNode.getElementsByClassName("p_show")[0]&&this.parentNode.getElementsByClassName("p_show")[0].removeAttribute("class"),this.className="p_show"}for(var n="",s=0;s<t.length;s++)n+='<p areaId="'+t[s].areaId+'">'+t[s].name+"</p>";e.innerHTML=n;for(var i=e.getElementsByTagName("p"),c=0;c<i.length;c++)i[c].addEventListener("click",a,!1)}function n(e,t){var a=document.getElementById("jd_address_select").getElementsByClassName("top_address")[0].getElementsByTagName("div"),n=document.getElementById("jd_address_select").getElementsByClassName("address");if(d[e]=o,m[e]=l,d=d.slice(0,e+1),m=m.slice(0,e+1),a[e].innerHTML=o,a[e].setAttribute("areaId",l),a[e].removeAttribute("class"),t)document.getElementById("jd_address_select").getElementsByClassName("show")[0].className="address",a[e+1].innerHTML="请选择",a[e+1].className="show",n[e+1].className+=" show";else{var s="";a[e].className="show";for(var u=0;u<d.length;u++)s+=d[u],u!=d.length-1&&(s+="，");i.innerHTML=s,r.addressCity=d,r.addressCityId=m,setTimeout(function(){c()},300)}}function s(e,n){function s(e){if(this.className.indexOf("show")>-1){for(var a=0;a<d.length&&this!=d[a];a++);var s=e.target.getAttribute("areaId");s&&t(n,s,0,a)}}i=n.targetDom,c=n.fn;var o=document.getElementById("jd_address_select"),l=JSON.parse(e).data;a(o.getElementsByClassName("address")[0],l);var d=o.getElementsByClassName("address");if(r.i){for(var m=0;m<d.length;m++)d[m].addEventListener("click",s);r.i=0}}var o,l,i,c,r=this,d=[],m=[],u=e.startId,g=e.startName,h=u&&g&&g.length==g.length;h&&(d=g,m=u),r.o&&(t(e,0,1,0),function(){function e(){t(2);for(var e=0;e<n.length&&this!=n[e];e++);this.className="show",a.getElementsByClassName("address")[e].className+=" show"}function t(e){for(var t=0;t<e;t++)a.getElementsByClassName("show")[0].className=a.getElementsByClassName("show")[0].className.replace("show","")}var a=document.getElementById("jd_address_select"),n=a.getElementsByClassName("top_address")[0].getElementsByTagName("div");a.getElementsByClassName("show")[0]&&t(1),n[0].innerHTML="请选择",-1==n[0].className.indexOf("show")&&(n[0].className="show"),-1==a.getElementsByClassName("address")[0].className.indexOf("show")&&(a.getElementsByClassName("address")[0].className+=" show");for(var s=0;s<n.length;s++)n[s].addEventListener("click",e,!1)}(),r.o=0),function(){if(r.z&&h){var a=document.getElementById("jd_address_select"),n=a.getElementsByClassName("top_address")[0].getElementsByTagName("div"),s=a.getElementsByClassName("address");n[0].className="",n[g.length-1].className="show",s[0].className="address",s[g.length-1].className+=" show";for(var o=0;o<g.length;o++)n[o].innerHTML=g[o],n[o].setAttribute("areaId",u[o]),t(e,u[o],2,o);r.z=0}}()}},jfIframe=function(e){function t(){this.hide()}e||(e={}),this.details=e;var a=document.getElementById(this.details.ele);!function(){function e(e){n=e.touches[0].pageY}function t(e){var t=this,a=t.scrollTop,l=t.scrollHeight,i=t.offsetHeight;s=e.touches[0].pageY,o=n-s,s=n,Math.abs(parseFloat(l)-parseFloat(a+i))<=2?o>0&&e.preventDefault():0==Math.abs(parseFloat(a))&&o<0&&e.preventDefault()}var n,s,o,l=document.getElementById("iframDemo").getElementsByClassName("iframebox")[0],i=a.getElementsByClassName("iframe_title")[0];l.addEventListener("touchstart",e,!1),l.addEventListener("touchmove",t,!1),i.addEventListener("touchmove",windowBanEvent.Canceling,!1)}(),a.getElementsByClassName("iframe_cancel")[0].addEventListener("click",t.bind(this),!1)};jfIframe.prototype.show=function(e){e&&e.fn();var t=document.getElementById(this.details.ele);t.style.display="block",setTimeout(function(){-1==t.className.indexOf("show")&&(t.className+=" show")},1),function(){var e=document.getElementById("iframe"),t=document.getElementById("view_jd");e&&(e.height=2e3,e.width=document.body.scrollWidth,e.src=t.getAttribute("data-src"))}()},jfIframe.prototype.hide=function(){var e=document.getElementById(this.details.ele);e.style.display="none",e.className.indexOf("show")>-1&&(e.className=e.className.replace(" show","")),windowBanEvent.unbundling()};var jdCategoryPage={clickTSortChange:function(){for(var e=document.getElementsByClassName("product_category_slide")[0],t=e.getElementsByTagName("div"),a=0;a<t.length;a++)t[a].addEventListener("click",function(){function t(){c++,a.parentNode.scrollTop+=(l-i)/30,c>=30&&clearInterval(r)}var a=this;e.getElementsByClassName("select_sort")[0].className=e.getElementsByClassName("select_sort")[0].className.replace("select_sort",""),a.className+=" select_sort";var n=a.offsetTop,s=window.innerHeight,o=a.offsetHeight,l=n-s/2+o/2,i=a.parentNode.scrollTop,c=0,r=setInterval(t,10)},!1)}},jfOrderTab={switchTab:function(){for(var e=document.getElementById("orderTab").getElementsByClassName("tab"),t=document.getElementsByClassName("shop_order_list"),a=0;a<e.length;a++)e[a].index=a,e[a].addEventListener("click",function(){for(var a=0;a<e.length;a++)t[a].className=t[a].className.replace(" show","");t[this.index].className+=" show"})},hrefTab:function(){document.getElementsByClassName("tab_return")[0].addEventListener("click",function(){for(var e=document.getElementsByClassName("tab_contain")[0].getElementsByClassName("tab"),t=0;t<e.length;t++)e[t].className=e[t].className.replace("choose_tab","");this.className+=" choose_tab"},!1)}};