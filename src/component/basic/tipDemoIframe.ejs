<!--
<style>
    button#btnTest {

        width: 100%;
        height: 50px;
        display: block;
        margin: 10px 0;
    }
</style>
<button id="btnTest">点我</button>


<%- include('../search_results/search_results_list/search_results_1_list.ejs') %>



    &lt;!&ndash; 弹框内容&ndash;&gt;
    <div class="iframe_main" id="iframDemo">

        <div class="iframe_top">

            <div class="iframe_title">看京东价</div>

            <div class="iframe_cancel"></div>

            <div class="iframe_line"></div>

        </div>

        &lt;!&ndash; iframe内容&ndash;&gt;

        <div class="iframebox">

            <iframe  id="iframe" frameborder="0" marginheight="0" width="300" height="300" marginwidth="0"  scrolling="no"></iframe>

        </div>

        &lt;!&ndash; 按钮&ndash;&gt;
        <div class="prompt_seckill_btn">
            <a class="product_prompt_btn" id="jumpBtn" href="https://item.m.jd.com/product/10211831816.html">
                <div>打开京东App，查看全部评价</div>
            </a>

        </div>

    </div>



<script>


/*

    function iFrameHeight() {

        var ifm= document.getElementById("iframe");

        var btnEle = document.getElementById('jumpBtn');

        if(ifm) {

            ifm.height = 2000 ;

            ifm.width = document.body.scrollWidth;

            //ifm.src=btnEle.href;

            ifm.src="https://item.m.jd.com/product/10211831816.html";



        }

    }


    function iframePopUp() {


        var thisEle = document.getElementById('iframDemo');

        var thisEleCancel = thisEle.getElementsByClassName('iframe_cancel')[0];


        document.getElementById('btnTest').addEventListener('click',function () {

            if(thisEle.className.indexOf('show') == -1){

                iframeShow();
            }
            else {
               iframeHide()
            }


        },false);

        thisEleCancel.addEventListener('click',iframeHide,false);

        function iframeShow(){

            thisEle.style.display = 'block';

            setTimeout(function () {

                if(thisEle.className.indexOf('show') == -1){

                    thisEle.className += ' show'
                }

            },10)

            iFrameHeight();

            clickThrough();

            //点穿问题
            function clickThrough() {

                var _thisScrollEle = document.getElementsByClassName('iframebox')[0];

                var startY, endY, distance;//开始距离、移动距离

                _thisScrollEle.addEventListener('touchstart', touchStartEle, false);

                _thisScrollEle.addEventListener('touchmove', touchMoveDistance, false);

                _thisScrollEle.addEventListener('touchmove', reachEdge, false);


                function touchStartEle(e) {

                    //touchstart 获取位置startY

                    startY = e.touches[0].pageY;

                }


                function touchMoveDistance(e) {

                    //touchmove 获取位置 endY

                    endY = e.touches[0].pageY;

                    //两者之减的距离用来判断是向上活动还是向下滑动
                    distance = startY - endY;

                    //此时touchmove的值等于touchstart的值 循环
                    endY = startY;

                }


                function reachEdge(event) {

                    var _this = this;

                    var eleScrollHeight = _this.scrollTop;//获取滚动条的位置 206

                    var eleHeight = _this.scrollHeight;//元素实际高度 506

                    var containerHeight = _this.offsetHeight;//容器高度 300


                    //滚动条到达底部

                    if (Math.abs(parseFloat(eleHeight) - parseFloat(eleScrollHeight + containerHeight)) <= 2) {


                        //如果距离为正数 则向上滑动时候 禁止浏览器事件

                        if (distance > 0) {

                            event.preventDefault();


                        }


                    }

                    else if (Math.abs(parseFloat(eleScrollHeight)) == 0) {

                        //如果距离为负数 则向下滑动 禁止浏览器事件

                        if (distance < 0) {

                            event.preventDefault();

                        }


                    }

                }


            }

        }

        function iframeHide(){


            if (thisEle.className.indexOf('show') > -1) {

                transitionMove(thisEle);

                //thisEle.style.display = 'none';

               thisEle.className = thisEle.className.replace(' show', '')

            }


            function transitionMove(ele) {

                // Safari 3.1 到 6.0 代码
                ele.addEventListener("webkitTransitionEnd", MFunction);
                // 标准语法
                ele.addEventListener("transitionend", MFunction);

                function MFunction() {

                    ele.style.display = 'none';
                    // Safari 3.1 到 6.0 代码
                    ele.removeEventListener("webkitTransitionEnd", MFunction);
                    // 标准语法
                    ele.removeEventListener("transitionend", MFunction);


                }


            }

        }


    }



    iframePopUp();

*/

</script>-->




